{% extends "base.html" %}

{% load wagtailimages_tags wagtailcore_tags %}

{% block extra_css %}
    {% load static %}
    <link rel="stylesheet" href="{% static "css/home.css" %}">
{% endblock %}

{% block body_class %}template-homepage{% endblock %}

{% block content %}
<div class="banner d-flex align-items-center flex-column bg-primary">
    {% image page.avatar_image fill-200x200 as avatar_img %}
    <img src="{{avatar_img.url}}" class="rounded mx-auto d-block" alt="{{avatar_img.alt}}">
    <h1>{{page.lead_text}}</h1>

    <div class="divider-custom divider-light">
        <div class="divider-custom-line"></div>
        <i class="fab fa-python white-ico"></i>
        <div class="divider-custom-line"></div>
    </div>
</div>

<div class="container" id="portfolio">
    {{ page.body|richtext }}
    
    {% for category in categories %}
    {% if forloop.counter|divisibleby:"2" %}
        <div class="row row-cols-1 row-cols-md-4 g-2 bg-primary">
            <div class="col-8">
            {% include "parts/category_cards.html" %}
            </div>
            <div class="text-center col-2">
                <h2>{{category.title}}</h2>
                <i class="{{category.icon}} portfolio-icon"></i>
            </div>
        </div>
    {% else %}
    
    <div class="row row-cols-1 row-cols-md-4 g-2 bg-light">
        <div class="text-center col-2">
            <h2>{{category.title}}</h2>
            <i class="{{category.icon}} portfolio-icon"></i>
        </div>
        <div class="col-8">
        {% include "parts/category_cards.html" %}
        </div>
    </div>
    {% endif %}
    {% endfor %}
</div>
{% endblock %}